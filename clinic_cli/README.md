# Многопоточное моделирование клиники (уровень 6–7 баллов)

## Отчёт
- Исполнитель: *указать фамилию, имя, отчество и группу*.
- Вариант: «Задача о больнице» (уровень 6–7 баллов).

### Сценарий предметной области
Рабочий день клиники описывается ролями из условия задачи:
- Пациенты приходят с заданными или случайно сгенерированными интервалами и занимают очередь к дежурным врачам.
- Два дежурных врача по одному принимают пациентов, беседуют с ними и выбирают специалиста (стоматолог, хирург или терапевт).
- Каждый узкий специалист работает только с одним пациентом одновременно, остальные ждут в собственной очереди.
- Пациенты не покидают очереди самопроизвольно и уходят лишь после завершения лечения.

### Модель параллельных вычислений
- Каждого пациента, дежурного врача и узкого специалиста представляет отдельный POSIX-поток.
- Для синхронизации используются только мьютексы и семафоры (`pthread_mutex_t`, `sem_t`).
- Очереди пациентов реализованы как разделяемые циклические буферы, защищённые мьютексами; наличие заявок отражается счётными семафорами.
- Дежурные врачи маршрутизируют пациентов к специалистам, специалисты обслуживают полученные задачи.

### Входные данные и генерация случайных параметров
Параметры передаются **только через аргументы командной строки**:
- Явный режим: `./clinic_cli <patients> <arrival_min> <arrival_max> <triage_min> <triage_max> <treat_min> <treat_max>`.
- Случайный режим: `./clinic_cli --random-config [--seed N]` генерирует допустимые интервалы прихода, беседы и лечения, а также количество пациентов (3–15). 

Во всех режимах можно задать `--seed N` для детерминированного воспроизведения.

### Генераторы случайных чисел
- Используется `rand()` с инициализацией `srand(seed)`, где `seed` берётся из `--seed` или из текущего времени.
- Случайные величины равномерны в включительно заданных диапазонах:
  - время прихода пациента;
  - длительность беседы у дежурного врача;
  - длительность лечения у специалиста;
  - направление пациента к одному из трёх специалистов (равновероятно).
- При выборе `--random-config` сами диапазоны параметров и количество пациентов тоже генерируются внутри допустимых пределов (описаны в исходном коде).

### Отображение событий
Все ключевые события выводятся в консоль: время прихода, беседа с дежурным, направление к конкретному врачу, начало и конец лечения, завершение смен.

### Завершение работы
- После получения `SIGINT` (`Ctrl+C`) приложение фиксирует запрос на остановку, не принимает новых пациентов и корректно завершает текущие приёмы, выводя финальные сообщения.

## Сборка и запуск
```bash
cd clinic_cli
make
./clinic_cli --random-config            # случайные параметры в допустимых диапазонах
./clinic_cli 5 0 200 50 150 200 400     # явный набор параметров
```

## Файлы проекта
- `main.c` — исходный код консольного приложения.
- `Makefile` — цели для сборки бинарного файла `clinic_cli` и очистки артефактов.
