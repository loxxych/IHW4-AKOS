# Многопоточное моделирование клиники (базовый вариант)

## Отчёт
- Исполнитель: *указать фамилию, имя, отчество и группу*.
- Вариант: «Задача о больнице» (уровень 4–5 баллов).

### Сценарий предметной области
Рабочий день клиники моделируется в терминах ролей задачи:
- Пациенты приходят с произвольными интервалами и занимают очередь к дежурным врачам.
- Два дежурных врача по одному принимают пациентов, беседуют с ними и определяют, к какому узкому специалисту следует отправить (стоматолог, хирург или терапевт).
- Каждый узкий специалист может обслуживать только одного пациента за раз; остальные ждут в собственной очереди.
- Пациенты никогда не покидают очереди самопроизвольно и уходят из клиники только после завершения лечения у назначенного врача.

### Модель параллельных вычислений
- Каждого пациента, дежурного врача и узкого специалиста представляет отдельный POSIX-поток.
- Для синхронизации используются только мьютексы и семафоры (`pthread_mutex_t`, `sem_t`).
- Очереди пациентов реализованы как разделяемые циклические буферы, защищённые мьютексами; наличие заявок в очередях отслеживается счётными семафорами.
- Дежурные врачи взаимодействуют с пациентами по схеме «производитель → распределитель», специалисты — «потребители», обслуживающие распределённый поток задач.

### Входные данные
При запуске приложение запрашивает параметры через консоль:
1. Количество пациентов (целое число ≥ 1).
2. Минимальное и максимальное время прихода пациента в миллисекундах.
3. Минимальное и максимальное время беседы с дежурным врачом в миллисекундах.
4. Минимальное и максимальное время лечения у специалиста в миллисекундах.

### Генераторы случайных чисел
- Используется `rand()` с инициализацией от текущего времени (`srand(time(NULL))`).
- Все случайные величины равномерно распределены в заданных диапазонах (границы включительны):
  - время прихода пациента,
  - длительность беседы на приёме у дежурного,
  - длительность лечения у специалиста,
  - направление пациента к одному из трёх специалистов (равная вероятность 1/3).

### Отображение событий
Все ключевые события логируются в консоль с указанием роли и идентификаторов пациентов: момент прихода, беседа с дежурным, направление к специалисту, начало и окончание лечения, завершение смен врачей.

### Завершение работы
- После получения `SIGINT` (например, `Ctrl+C`) приложение фиксирует запрос на остановку, прекращает приём новых пациентов и корректно завершает текущие приёмы, выводя итоговые сообщения.

## Сборка и запуск
```bash
cd clinic_basic
make
./clinic
```

После запуска введите требуемые параметры. Пример сеанса:
```
Модель больницы. Используются два дежурных врача и три специалиста.
Введите параметры моделирования.
Введите количество пациентов: 5
Минимальное и максимальное время прихода пациента (мс): 0 500
Минимальное и максимальное время беседы с дежурным (мс): 100 300
Минимальное и максимальное время лечения у специалиста (мс): 300 700
```

Для корректного завершения можно воспользоваться `Ctrl+C`: приложение зафиксирует сигнал `SIGINT` и завершит смену после обработки уже прибывших пациентов.

## Файлы проекта
- `main.c` — исходный код консольного приложения.
- `Makefile` — цели `make` для сборки и очистки бинарного файла `clinic`.

